!function(){"use strict";function isFunction(any){return"function"==typeof any}function isNumber(any){return"number"==typeof any}!function(LogLevel){LogLevel.Debug="Debug",LogLevel.Info="Info",LogLevel.Warning="Warning",LogLevel.Error="Error"}(LogLevel=LogLevel||{}),function(MraidEvent){MraidEvent.Ready="ready",MraidEvent.Error="error",MraidEvent.StateChange="stateChange",MraidEvent.ViewableChange="viewableChange",MraidEvent.SizeChange="sizeChange"}(MraidEvent=MraidEvent||{});var LogLevel,MraidEvent,MraidState,MraidPlacementType,EventsCoordinator=function(){function EventsCoordinator(){this.eventListeners=new Map(Object.values(MraidEvent).map(function(e){return[e,new Set]}))}return EventsCoordinator.prototype.addEventListener=function(event,listener,logger){var _a;event&&this.isCorrectEvent(event)?listener?isFunction(listener)?null!=(_a=this.eventListeners.get(event))&&_a.add(listener):logger(LogLevel.Error,"addEventListener","Incorrect listener when addEventListener. \n        Listener is not a function. Actual type = ".concat(typeof listener)):logger(LogLevel.Error,"addEventListener","Incorrect listener when addEventListener. It is null or undefined"):logger(LogLevel.Error,"addEventListener","Incorrect event when addEventListener.Type = ".concat(typeof event,", value = ").concat(event))},EventsCoordinator.prototype.removeEventListener=function(event,listener,logger){var listeners;event&&this.isCorrectEvent(event)?listener&&!isFunction(listener)?logger(LogLevel.Error,"removeEventListener","Incorrect listener when removeEventListener. \n        Listener is not a function. Actual type = ".concat(typeof listener)):(listeners=this.eventListeners.get(event),listener?null!=listeners&&listeners.delete(listener):null!=listeners&&listeners.clear()):logger(LogLevel.Error,"removeEventListener","Incorrect event when removeEventListener.Type = ".concat(typeof event,", value = ").concat(event))},EventsCoordinator.prototype.fireReadyEvent=function(){var _a;null!=(_a=this.eventListeners.get(MraidEvent.Ready))&&_a.forEach(function(value){null!=value&&value()})},EventsCoordinator.prototype.fireErrorEvent=function(message,action){var _a;null!=(_a=this.eventListeners.get(MraidEvent.Error))&&_a.forEach(function(value){null!=value&&value(message,action)})},EventsCoordinator.prototype.fireStateChangeEvent=function(newState){var _a;null!=(_a=this.eventListeners.get(MraidEvent.StateChange))&&_a.forEach(function(value){null!=value&&value(newState)})},EventsCoordinator.prototype.fireViewableChangeEvent=function(isViewable){var _a;null!=(_a=this.eventListeners.get(MraidEvent.ViewableChange))&&_a.forEach(function(value){null!=value&&value(isViewable)})},EventsCoordinator.prototype.fireSizeChangeEvent=function(width,height){var _a;null!=(_a=this.eventListeners.get(MraidEvent.SizeChange))&&_a.forEach(function(value){null!=value&&value(width,height)})},EventsCoordinator.prototype.isCorrectEvent=function(event){return event&&this.eventListeners.has(event)},EventsCoordinator}(),ExpandProperties=(!function(MraidState){MraidState.Loading="loading",MraidState.Default="default",MraidState.Expanded="expanded",MraidState.Hidden="hidden",MraidState.Resized="resized"}(MraidState=MraidState||{}),!function(MraidPlacementType){MraidPlacementType.Unknown="",MraidPlacementType.Inline="inline",MraidPlacementType.Interstitial="interstitial"}(MraidPlacementType=MraidPlacementType||{}),function(width,height){this.useCustomClose=!1,this.isModal=!0,this.width=width,this.height=height});var SdkFeature,Size=function(){function Size(width,height){this.width=width,this.height=height}return Size.prototype.clone=function(){return new Size(this.width,this.height)},Size}();!function(SdkFeature){SdkFeature.Sms="sms",SdkFeature.Tel="tel",SdkFeature.Calendar="calendar",SdkFeature.StorePicture="storePicture",SdkFeature.InlineVideo="inlineVideo"}(SdkFeature=SdkFeature||{});var ClosePosition,Orientation,defaultSupportedSdkFeatures=new function(sms,tel,inlineVideo){this.calendar=!1,this.storePicture=!1,this.sms=sms,this.tel=tel,this.inlineVideo=inlineVideo}(!1,!1,!1),Position=function(){function Position(x,y,width,height){this.x=x,this.y=y,this.width=width,this.height=height}return Position.prototype.clone=function(){return new Position(this.x,this.y,this.width,this.height)},Position}(),initialPosition=new Position(0,0,0,0),ResizeProperties=(!function(ClosePosition){ClosePosition.TopLeft="top-left",ClosePosition.TopRight="top-right",ClosePosition.Center="center",ClosePosition.BottomLeft="bottom-left",ClosePosition.BottomRight="bottom-right",ClosePosition.TopCenter="top-center",ClosePosition.BottomCenter="bottom-center"}(ClosePosition=ClosePosition||{}),function(){function ResizeProperties(width,height,offsetX,offsetY,customClosePosition,allowOffscreen){void 0===customClosePosition&&(customClosePosition=ClosePosition.TopRight),void 0===allowOffscreen&&(allowOffscreen=!0),this.width=width,this.height=height,this.offsetX=offsetX,this.offsetY=offsetY,this.customClosePosition=customClosePosition,this.allowOffscreen=allowOffscreen}return ResizeProperties.prototype.copy=function(){return new ResizeProperties(this.width,this.height,this.offsetX,this.offsetY,this.customClosePosition,this.allowOffscreen)},ResizeProperties}()),ResizePropertiesValidator=function(){function ResizePropertiesValidator(){this.closeRegionSize=50,this.halfCloseRegionSize=this.closeRegionSize/2,this.adMinSize=this.closeRegionSize}return ResizePropertiesValidator.prototype.validate=function(resizeProperties,maxSize,currentPosition){return resizeProperties?0===Object.keys(resizeProperties).length?"Resize properties object is empty":this.validateSize(resizeProperties.width,"width",maxSize.width)||this.validateSize(resizeProperties.height,"height",maxSize.height)||this.validateOffset(resizeProperties.offsetX,"offsetX")||this.validateOffset(resizeProperties.offsetY,"offsetY")||this.validateCustomClosePosition(resizeProperties.customClosePosition)||this.validateAllowOffscreen(resizeProperties.allowOffscreen)||this.validateCloseButtonPosition(resizeProperties,maxSize,currentPosition):"Resize properties object is not passed"},ResizePropertiesValidator.prototype.joinedClosePosition=function(){return"[".concat(Object.values(ClosePosition).join(", "),"]")},ResizePropertiesValidator.prototype.validateSize=function(value,side,maxSize){return value||0===value?isNumber(value)&&Number.isFinite(value)?value<this.adMinSize?"".concat(side," should be at least ").concat(this.adMinSize):maxSize<value?"".concat(side," is bigger than getMaxSize().").concat(side):null:"".concat(side," should be valid integer"):"".concat(side," property is required")},ResizePropertiesValidator.prototype.validateOffset=function(value,side){return value||0===value?isNumber(value)&&Number.isFinite(value)?null:"".concat(side," should be valid integer"):"".concat(side," property is required")},ResizePropertiesValidator.prototype.validateCustomClosePosition=function(value){if(value){if("string"!=typeof value)return"customClosePosition should be a string";if(!Object.values(ClosePosition).includes(value))return"customClosePosition should be one of ".concat(this.joinedClosePosition())}return null},ResizePropertiesValidator.prototype.validateAllowOffscreen=function(value){return!value||"boolean"==typeof value?null:"allowOffscreen should be boolean"},ResizePropertiesValidator.prototype.isCloseButtonOnScreen=function(closeX,closeY,maxSize){return 0<=closeX&&closeX<=maxSize.width-this.closeRegionSize&&0<=closeY&&closeY<=maxSize.height-this.closeRegionSize},ResizePropertiesValidator.prototype.validateCloseButtonPosition=function(resizeProperties,maxSize,currentPosition){var newAdX=currentPosition.x+resizeProperties.offsetX,newAdY=currentPosition.y+resizeProperties.offsetY,closeX=0,closeY=0;switch(null!=(currentPosition=resizeProperties.customClosePosition)?currentPosition:ClosePosition.TopRight){case ClosePosition.TopCenter:closeX=newAdX+(resizeProperties.width/2-this.halfCloseRegionSize),closeY=newAdY;break;case ClosePosition.TopRight:closeX=newAdX+resizeProperties.width-this.closeRegionSize,closeY=newAdY;break;case ClosePosition.TopLeft:closeX=newAdX,closeY=newAdY;break;case ClosePosition.Center:closeX=newAdX+(resizeProperties.width/2-this.halfCloseRegionSize),closeY=newAdY+(resizeProperties.height/2-this.halfCloseRegionSize);break;case ClosePosition.BottomCenter:closeX=newAdX+(resizeProperties.width/2-this.halfCloseRegionSize),closeY=newAdY+resizeProperties.height-this.closeRegionSize;break;case ClosePosition.BottomRight:closeX=newAdX+resizeProperties.width-this.closeRegionSize,closeY=newAdY+resizeProperties.height-this.closeRegionSize;break;case ClosePosition.BottomLeft:closeX=newAdX,closeY=newAdY+resizeProperties.height-this.closeRegionSize}return this.isCloseButtonOnScreen(closeX,closeY,maxSize)?null:"Close button will be offscreen"},ResizePropertiesValidator}();!function(Orientation){Orientation.Portrait="portrait",Orientation.Landscape="landscape",Orientation.None="none"}(Orientation=Orientation||{});var defaultOrientationProperties=new(function(){function OrientationProperties(allowOrientationChange,forceOrientation){this.allowOrientationChange=allowOrientationChange,this.forceOrientation=forceOrientation}return OrientationProperties.prototype.clone=function(){return new OrientationProperties(this.allowOrientationChange,this.forceOrientation)},OrientationProperties}())(!0,Orientation.None);function validateOrientationProperties(orientationProperties){var hasAnyProperty,allowOrientationChange,forceOrientation;return orientationProperties?0===Object.keys(orientationProperties).length?"Orientation properties object is empty":(hasAnyProperty=!1,Object.keys(defaultOrientationProperties).forEach(function(property){Object.prototype.hasOwnProperty.call(orientationProperties,property)&&(hasAnyProperty=!0)}),hasAnyProperty?(allowOrientationChange=orientationProperties.allowOrientationChange,forceOrientation=orientationProperties.forceOrientation,allowOrientationChange&&"boolean"!=typeof allowOrientationChange?"'allowOrientationChange' should be boolean":!forceOrientation||Object.values(Orientation).includes(forceOrientation)?null:"'forceOrientation' should be one of ".concat("[".concat(Object.values(Orientation).join(", "),"]"))):"The orientation properties object does not contain the 'allowOrientationChange' or 'forceOrientation' properties"):"Orientation properties object is not passed"}var MRAIDImplementation=function(){function MRAIDImplementation(eventsCoordinator,sdkInteractor,logger,resizePropertiesValidator){this.currentState=MraidState.Loading,this.placementType=MraidPlacementType.Unknown,this.isCurrentlyViewable=!1,this.currentExpandProperties=new ExpandProperties(-1,-1),this.currentMaxSize=new Size(0,0),this.currentScreenSize=new Size(0,0),this.pixelMultiplier=1,this.supportedSdkFeatures=defaultSupportedSdkFeatures,this.defaultPosition=initialPosition.clone(),this.currentPosition=initialPosition.clone(),this.currentResizeProperties=void 0,this.currentOrientationProperties=defaultOrientationProperties.clone(),this.eventsCoordinator=eventsCoordinator,this.sdkInteractor=sdkInteractor,this.logger=logger,this.resizePropertiesValidator=resizePropertiesValidator,this.spreadMraidInstance()}return MRAIDImplementation.prototype.getVersion=function(){return"2.0"},MRAIDImplementation.prototype.addEventListener=function(event,listener){try{this.eventsCoordinator.addEventListener(event,listener,this.logger.log)}catch(e){this.logger.log(LogLevel.Error,"addEventListener","error when addEventListener, event = ".concat(event,", listenerType = ").concat(typeof listener))}},MRAIDImplementation.prototype.removeEventListener=function(event,listener){try{this.eventsCoordinator.removeEventListener(event,listener,this.logger.log)}catch(e){this.logger.log(LogLevel.Error,"removeEventListener","error when removeEventListener, event = ".concat(event,", listenerType = ").concat(typeof listener))}},MRAIDImplementation.prototype.getState=function(){return this.currentState},MRAIDImplementation.prototype.getPlacementType=function(){return this.placementType},MRAIDImplementation.prototype.isViewable=function(){return this.isCurrentlyViewable},MRAIDImplementation.prototype.expand=function(url){this.canPerformActions()?this.placementType===MraidPlacementType.Interstitial?this.logger.log(LogLevel.Error,"expand","can't expand interstitial ad"):null!=url?this.logger.log(LogLevel.Error,"expand","two-part expandable ads are not supported"):this.sdkInteractor.expand(this.currentExpandProperties.width,this.currentExpandProperties.height):this.logger.log(LogLevel.Error,"expand","can't expand in ".concat(this.currentState," state"))},MRAIDImplementation.prototype.getExpandProperties=function(){var width=-1===this.currentExpandProperties.width?this.currentMaxSize.width*this.pixelMultiplier:this.currentExpandProperties.width,height=-1===this.currentExpandProperties.height?this.currentMaxSize.height*this.pixelMultiplier:this.currentExpandProperties.height;return new ExpandProperties(width,height)},MRAIDImplementation.prototype.setExpandProperties=function(properties){var _a;this.isCorrectProperties(properties)&&(this.currentExpandProperties.width=null!=(_a=properties.width)?_a:-1,this.currentExpandProperties.height=null!=(_a=properties.height)?_a:-1)},MRAIDImplementation.prototype.close=function(){this.sdkInteractor.close()},MRAIDImplementation.prototype.useCustomClose=function(useCustomClose){this.logger.log(LogLevel.Error,"useCustomClose","useCustomClose() is not supported")},MRAIDImplementation.prototype.open=function(url){url?"string"==typeof url?this.sdkInteractor.open(url):url instanceof URL?this.sdkInteractor.open(url.toString()):this.logger.log(LogLevel.Error,"open","Error when open(), url is not a string"):this.logger.log(LogLevel.Error,"open","Error when open(), url is null, empty or undefined")},MRAIDImplementation.prototype.createCalendarEvent=function(parameters){this.logger.log(LogLevel.Error,"createCalendarEvent","createCalendarEvent() is not supported")},MRAIDImplementation.prototype.storePicture=function(uri){this.logger.log(LogLevel.Error,"storePicture","storePicture() is not supported")},MRAIDImplementation.prototype.getMaxSize=function(){return this.currentMaxSize.clone()},MRAIDImplementation.prototype.getScreenSize=function(){return this.currentScreenSize.clone()},MRAIDImplementation.prototype.supports=function(feature){var value;return(value=feature)&&Object.values(SdkFeature).includes(value)?this.supportedSdkFeatures[feature]:(this.logger.log(LogLevel.Error,"supports","Feature param is not one of ".concat("[".concat(Object.values(SdkFeature).join(", "),"]"))),!1)},MRAIDImplementation.prototype.getCurrentPosition=function(){return this.currentPosition.clone()},MRAIDImplementation.prototype.getDefaultPosition=function(){return this.defaultPosition.clone()},MRAIDImplementation.prototype.playVideo=function(url){url?"string"==typeof url?this.sdkInteractor.playVideo(url):url instanceof URL?this.sdkInteractor.playVideo(url.toString()):this.logger.log(LogLevel.Error,"playVideo","Error when playVideo(), url is not a string"):this.logger.log(LogLevel.Error,"playVideo","Error when playVideo(), url is null, empty or undefined")},MRAIDImplementation.prototype.getResizeProperties=function(){var _a;return null==(_a=this.currentResizeProperties)?void 0:_a.copy()},MRAIDImplementation.prototype.resize=function(){var offsetY,height,offsetX,width,customClosePosition,errorMessage;this.currentState!==MraidState.Resized&&this.currentState!==MraidState.Default?this.logger.log(LogLevel.Error,"resize","Can't resize in ".concat(this.currentState," state")):this.placementType!==MraidPlacementType.Inline?this.logger.log(LogLevel.Error,"resize","Resize is only available for inline placement"):this.currentResizeProperties?(errorMessage=this.resizePropertiesValidator.validate(this.currentResizeProperties,this.currentMaxSize,this.currentPosition))?this.logger.log(LogLevel.Error,"resize",errorMessage):(offsetY=(errorMessage=this.currentResizeProperties).offsetY,height=errorMessage.height,offsetX=errorMessage.offsetX,width=errorMessage.width,customClosePosition=errorMessage.customClosePosition,errorMessage=errorMessage.allowOffscreen,this.sdkInteractor.resize(width,height,offsetX,offsetY,customClosePosition,errorMessage)):this.logger.log(LogLevel.Error,"resize","You must set resize properties before calling resize")},MRAIDImplementation.prototype.setResizeProperties=function(resizeProperties){this.currentResizeProperties=void 0;var errorMessage=this.resizePropertiesValidator.validate(resizeProperties,this.currentMaxSize,this.currentPosition);errorMessage?this.logger.log(LogLevel.Error,"setResizeProperties",errorMessage):this.currentResizeProperties=new ResizeProperties(resizeProperties.width,resizeProperties.height,resizeProperties.offsetX,resizeProperties.offsetY,resizeProperties.customClosePosition,resizeProperties.allowOffscreen)},MRAIDImplementation.prototype.getOrientationProperties=function(){return this.currentOrientationProperties.clone()},MRAIDImplementation.prototype.setOrientationProperties=function(orientationProperties){var errorMessage=validateOrientationProperties(orientationProperties);errorMessage?this.logger.log(LogLevel.Error,"setOrientationProperties",errorMessage):(this.currentOrientationProperties.forceOrientation=null!=(errorMessage=orientationProperties.forceOrientation)?errorMessage:defaultOrientationProperties.forceOrientation,this.currentOrientationProperties.allowOrientationChange=null!=(errorMessage=orientationProperties.allowOrientationChange)?errorMessage:defaultOrientationProperties.allowOrientationChange,this.sdkInteractor.setOrientationProperties(this.currentOrientationProperties.allowOrientationChange,this.currentOrientationProperties.forceOrientation))},MRAIDImplementation.prototype.notifyReady=function(placementType){this.logger.log(LogLevel.Debug,"notifyReady","placementType=".concat(placementType)),this.placementType=placementType,this.setReady()},MRAIDImplementation.prototype.notifyError=function(message,action){this.eventsCoordinator.fireErrorEvent(message,action)},MRAIDImplementation.prototype.setIsViewable=function(isViewable){this.logger.log(LogLevel.Debug,"setIsViewable","isViewable=".concat(isViewable)),this.isCurrentlyViewable!==isViewable&&(this.isCurrentlyViewable=isViewable,this.eventsCoordinator.fireViewableChangeEvent(isViewable))},MRAIDImplementation.prototype.setMaxSize=function(width,height,pixelMultiplier){this.currentMaxSize.width=width,this.currentMaxSize.height=height,this.pixelMultiplier=pixelMultiplier},MRAIDImplementation.prototype.setScreenSize=function(width,height){this.currentScreenSize.width=width,this.currentScreenSize.height=height},MRAIDImplementation.prototype.notifyClosed=function(){this.canPerformActions()?this.currentState===MraidState.Expanded||this.currentState===MraidState.Resized?this.updateState(MraidState.Default):this.currentState===MraidState.Default&&this.updateState(MraidState.Hidden):this.logger.log(LogLevel.Warning,"notifyClosed","can't close in ".concat(this.currentState," state"))},MRAIDImplementation.prototype.notifyExpanded=function(){switch(this.currentState){case MraidState.Default:case MraidState.Resized:this.updateState(MraidState.Expanded);break;case MraidState.Expanded:this.logger.log(LogLevel.Warning,"notifyExpanded","ad is already expanded");break;case MraidState.Loading:case MraidState.Hidden:this.logger.log(LogLevel.Warning,"notifyExpanded","can't expand from ".concat(this.currentState))}},MRAIDImplementation.prototype.setSupports=function(supportedSdkFeatures){var _a;this.supportedSdkFeatures.sms=null!=(_a=supportedSdkFeatures.sms)?_a:this.supportedSdkFeatures.sms,this.supportedSdkFeatures.tel=null!=(_a=supportedSdkFeatures.tel)?_a:this.supportedSdkFeatures.tel,this.supportedSdkFeatures.inlineVideo=this.isInlineVideoSupported()},MRAIDImplementation.prototype.setCurrentPosition=function(x,y,width,height){x=new Position(x,y,width,height);JSON.stringify(this.defaultPosition)===JSON.stringify(initialPosition)?this.defaultPosition=x:this.eventsCoordinator.fireSizeChangeEvent(width,height),this.currentPosition=x},MRAIDImplementation.prototype.notifyResized=function(){switch(this.currentState){case MraidState.Default:case MraidState.Resized:this.updateState(MraidState.Resized);break;default:this.logger.log(LogLevel.Warning,"notifyResized","Can't resize from ".concat(this.currentState," state"))}},MRAIDImplementation.prototype.updateState=function(newState){this.currentState=newState,this.eventsCoordinator.fireStateChangeEvent(newState)},MRAIDImplementation.prototype.setReady=function(){this.currentState===MraidState.Loading&&(this.updateState(MraidState.Default),this.eventsCoordinator.fireReadyEvent())},MRAIDImplementation.prototype.canPerformActions=function(){return this.currentState!==MraidState.Loading&&this.currentState!==MraidState.Hidden},MRAIDImplementation.prototype.isCorrectProperties=function(properties){var width,height,useCustomClose,isModal;return function(properties){var hasAnyProperty;if(null!=properties&&"object"==typeof properties)return hasAnyProperty=!1,Object.keys(new ExpandProperties(0,0)).forEach(function(property){Object.prototype.hasOwnProperty.call(properties,property)&&(hasAnyProperty=!0)}),0===Object.keys(properties).length||hasAnyProperty}(properties)?(width=properties.width,height=properties.height,useCustomClose=properties.useCustomClose,isModal=properties.isModal,!!this.isCorrectDimension(width)&&!!this.isCorrectDimension(height)&&(useCustomClose&&this.logger.log(LogLevel.Warning,"setExpandProperties","useCustomClose is not supported"),null==isModal||isModal||this.logger.log(LogLevel.Warning,"setExpandProperties","isModal property is readonly and always equals to true"),!0)):(this.logger.log(LogLevel.Error,"setExpandProperties","properties is ".concat(properties)),!1)},MRAIDImplementation.prototype.isCorrectDimension=function(dimension){return!(dimension&&(isNumber(dimension)?!this.isInAcceptedBounds(dimension)&&(this.logger.log(LogLevel.Error,"setExpandProperties","width is ".concat(dimension)),1):(this.logger.log(LogLevel.Error,"setExpandProperties","width is not a number, width is ".concat(typeof dimension)),1)))},MRAIDImplementation.prototype.isInAcceptedBounds=function(number){return Number.isFinite(number)&&0<=number},MRAIDImplementation.prototype.spreadMraidInstance=function(){for(var _a,_b,iframes=document.getElementsByTagName("iframe"),i=0;i<iframes.length;i+=1){var iframe=iframes[i];if(iframe.contentWindow)try{iframe.contentWindow.mraid=null!=(_a=iframe.contentWindow.mraid)?_a:this}catch(_c){}}if(window.top)try{window.top.mraid=null!=(_b=window.top.mraid)?_b:this}catch(_d){}},MRAIDImplementation.prototype.isInlineVideoSupported=function(){return"undefined"!=typeof HTMLVideoElement},MRAIDImplementation}(),IosMraidBridge=function(){function IosMraidBridge(){}return IosMraidBridge.prototype.log=function(logLevel,message,logId){this.postMessage({action:"log",logLevel:logLevel,message:message,logId:logId})},IosMraidBridge.prototype.open=function(url){this.postMessage({action:"open",url:url})},IosMraidBridge.prototype.expand=function(width,height){this.postMessage({action:"expand",width:width,height:height})},IosMraidBridge.prototype.close=function(){this.postMessage({action:"close"})},IosMraidBridge.prototype.playVideo=function(url){this.postMessage({action:"play_video",url:url})},IosMraidBridge.prototype.resize=function(width,height,offsetX,offsetY,customClosePosition,allowOffscreen){this.postMessage({action:"resize",width:width,height:height,offsetX:offsetX,offsetY:offsetY,customClosePosition:customClosePosition,allowOffscreen:allowOffscreen})},IosMraidBridge.prototype.setOrientationProperties=function(allowOrientationChange,forceOrientation){this.postMessage({action:"set_orientation_properties",allowOrientationChange:allowOrientationChange,forceOrientation:forceOrientation})},IosMraidBridge.prototype.postMessage=function(message){var _a;null!=(_a=null==(_a=null==(_a=null===window||void 0===window?void 0:window.webkit)?void 0:_a.messageHandlers)?void 0:_a.criteoMraidBridge)&&_a.postMessage(message)},IosMraidBridge}(),AndroidMraidBridge=function(){function AndroidMraidBridge(){}return AndroidMraidBridge.prototype.log=function(logLevel,message,logId){var _a;null!=(_a=this.getMraidBridge())&&_a.log(logLevel,message,logId)},AndroidMraidBridge.prototype.open=function(url){var _a;null!=(_a=this.getMraidBridge())&&_a.open(url)},AndroidMraidBridge.prototype.expand=function(width,height){var _a;null!=(_a=this.getMraidBridge())&&_a.expand(width,height)},AndroidMraidBridge.prototype.close=function(){var _a;null!=(_a=this.getMraidBridge())&&_a.close()},AndroidMraidBridge.prototype.playVideo=function(url){var _a;null!=(_a=this.getMraidBridge())&&_a.playVideo(url)},AndroidMraidBridge.prototype.resize=function(width,height,offsetX,offsetY,customClosePosition,allowOffscreen){var _a;null!=(_a=this.getMraidBridge())&&_a.resize(width,height,offsetX,offsetY,customClosePosition,allowOffscreen)},AndroidMraidBridge.prototype.setOrientationProperties=function(allowOrientationChange,forceOrientation){var _a;null!=(_a=this.getMraidBridge())&&_a.setOrientationProperties(allowOrientationChange,forceOrientation)},AndroidMraidBridge.prototype.getMraidBridge=function(){var _a;return null!=(_a=null===window||void 0===window?void 0:window.criteoMraidBridge)?_a:null==(_a=null===window||void 0===window?void 0:window.top)?void 0:_a.criteoMraidBridge},AndroidMraidBridge}(),SdkInteractor=function(){function SdkInteractor(bridges){this.bridges=bridges}return SdkInteractor.prototype.log=function(logLevel,message,logId){void 0===logId&&(logId=null),this.callForAll(function(bridge){bridge.log(logLevel,message,logId)})},SdkInteractor.prototype.open=function(url){this.callForAll(function(bridge){bridge.open(url)})},SdkInteractor.prototype.expand=function(width,height){this.callForAll(function(bridge){bridge.expand(width,height)})},SdkInteractor.prototype.close=function(){this.callForAll(function(bridge){bridge.close()})},SdkInteractor.prototype.playVideo=function(url){this.callForAll(function(bridge){bridge.playVideo(url)})},SdkInteractor.prototype.resize=function(width,height,offsetX,offsetY,customClosePosition,allowOffscreen){this.callForAll(function(bridge){bridge.resize(width,height,offsetX,offsetY,customClosePosition,allowOffscreen)})},SdkInteractor.prototype.setOrientationProperties=function(allowOrientationChange,forceOrientation){this.callForAll(function(bridge){bridge.setOrientationProperties(allowOrientationChange,forceOrientation)})},SdkInteractor.prototype.callForAll=function(lambda){this.bridges.forEach(function(bridge){lambda(bridge)})},SdkInteractor}(),Logger=function(){function Logger(eventsCoordinator,sdkInteractor){this.eventsCoordinator=eventsCoordinator,this.sdkInteractor=sdkInteractor}return Logger.prototype.log=function(logLevel,method,message){this.sdkInteractor.log(logLevel,"".concat(method,", ").concat(message)),logLevel===LogLevel.Error&&this.eventsCoordinator.fireErrorEvent(message,method)},Logger}(),SdkInteractor=new SdkInteractor([new IosMraidBridge,new AndroidMraidBridge]),IosMraidBridge=new EventsCoordinator,AndroidMraidBridge=new Logger(IosMraidBridge,SdkInteractor),EventsCoordinator=new ResizePropertiesValidator;window.mraid=null!=(Logger=window.mraid)?Logger:new MRAIDImplementation(IosMraidBridge,SdkInteractor,AndroidMraidBridge,EventsCoordinator)}();